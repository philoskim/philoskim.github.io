<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>5&nbsp;Testing</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Clojure Memo</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="why-clojure.html" class="tocviewlink" data-pltdoc="x">Why Clojure?</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="var.html" class="tocviewlink" data-pltdoc="x">Vars</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="recursions.html" class="tocviewlink" data-pltdoc="x">Recursions</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="functional-programming.html" class="tocviewlink" data-pltdoc="x">Functional Programming</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Testing</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="core-async.html" class="tocviewlink" data-pltdoc="x">core.async</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="clojurescript.html" class="tocviewlink" data-pltdoc="x">Clojure<span class="mywbr"> &nbsp;</span>Script</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="tips.html" class="tocviewlink" data-pltdoc="x">Tips</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Testing</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="#%28part._deftest_______is____%29" class="tocviewlink" data-pltdoc="x">deftest &#47700;&#53356;&#47196; &amp; is &#48120;&#53356;&#47196;</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="#%28part._are____%29" class="tocviewlink" data-pltdoc="x">are &#47588;&#53356;&#47196;</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="#%28part._testing____%29" class="tocviewlink" data-pltdoc="x">testing &#47588;&#53356;&#47196;</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="#%28part._exception____%29" class="tocviewlink" data-pltdoc="x">exception &#53580;&#49828;&#53944;</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="#%28part._fixture_____%29" class="tocviewlink" data-pltdoc="x">fixture &#49324;&#50857;&#54616;&#44592;</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="#%28part._deftest-____%29" class="tocviewlink" data-pltdoc="x">deftest-<wbr></wbr> &#47700;&#53356;&#47196;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">5.1<tt>&nbsp;</tt></span><a href="#%28part._deftest_______is____%29" class="tocsubseclink" data-pltdoc="x">deftest &#47700;&#53356;&#47196; &amp; is &#48120;&#53356;&#47196;</a></td></tr><tr><td><span class="tocsublinknumber">5.2<tt>&nbsp;</tt></span><a href="#%28part._are____%29" class="tocsubseclink" data-pltdoc="x">are &#47588;&#53356;&#47196;</a></td></tr><tr><td><span class="tocsublinknumber">5.3<tt>&nbsp;</tt></span><a href="#%28part._testing____%29" class="tocsubseclink" data-pltdoc="x">testing &#47588;&#53356;&#47196;</a></td></tr><tr><td><span class="tocsublinknumber">5.4<tt>&nbsp;</tt></span><a href="#%28part._exception____%29" class="tocsubseclink" data-pltdoc="x">exception &#53580;&#49828;&#53944;</a></td></tr><tr><td><span class="tocsublinknumber">5.5<tt>&nbsp;</tt></span><a href="#%28part._fixture_____%29" class="tocsubseclink" data-pltdoc="x">fixture &#49324;&#50857;&#54616;&#44592;</a></td></tr><tr><td><span class="tocsublinknumber">5.6<tt>&nbsp;</tt></span><a href="#%28part._deftest-____%29" class="tocsubseclink" data-pltdoc="x">deftest-<wbr></wbr> &#47700;&#53356;&#47196;</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="functional-programming.html" title="backward to &quot;4 Functional Programming&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Clojure Memo&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="core-async.html" title="forward to &quot;6 core.async&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>5<tt>&nbsp;</tt><a name="(part._testing)"></a>Testing</h3><p>&#54532;&#47196;&#44536;&#47016;&#51012; &#44060;&#48156;&#54616;&#45716;&#45936; &#51080;&#50612;, TDD(Test Driven Development) &#48169;&#48277;&#47200;&#51008;, &#53580;&#49828;&#53944;&#50752; &#54532;&#47196;&#44536;&#47016; &#44060;&#48156;&#51012;
&#48337;&#54665;&#54632;&#51004;&#47196;&#50024;, &#51060;&#48120; &#51089;&#49457;&#46108; &#47784;&#46304; &#54532;&#47196;&#44536;&#47016; &#53076;&#46300;&#51032; &#47924;&#44208;&#49457;&#51012; &#44536;&#46412; &#44536;&#46412; &#54869;&#51064;&#54644; &#44032;&#47728; &#44060;&#48156;&#51012; &#51652;&#54665;&#54624;
&#49688; &#51080;&#44592; &#46412;&#47928;&#50640;, &#45208;&#51473;&#50640; &#48156;&#44204;&#46112; &#49688;&#46020; &#51080;&#45716; &#48260;&#44536; &#52376;&#47532; &#44284;&#51221;&#51012; &#48120;&#47532; &#48169;&#51648;&#54616;&#44172; &#54644; &#51456;&#45796;. &#50500;&#50872;&#47084;
&#53580;&#49828;&#53944; &#53076;&#46300; &#51088;&#52404;&#44032; &#54532;&#47196;&#44536;&#47016; &#53076;&#46300;&#51032; &#54988;&#47469;&#54620; &#49892;&#54665; &#50696;&#51228;&#47484; &#51228;&#44277;&#54616;&#48064;&#47196;, &#54644;&#45817; API&#51032; &#47928;&#49436;&#54868;&#51032;
&#54952;&#44284;&#46020; &#48380; &#49688; &#51080;&#45796;.</p><p>&#50616;&#46907; &#49373;&#44033;&#54616;&#44592;&#50640;&#45716;, &#54532;&#47196;&#44536;&#47016; &#53076;&#46300;&#50752; &#53580;&#49828;&#53944; &#53076;&#46300;&#47484; &#46168; &#45796; &#51089;&#49457;&#54616;&#45796; &#48372;&#47732;, &#49884;&#44036;&#51060; &#45908; &#44152;&#47532;&#45716; &#44163;
&#50500;&#45768;&#45264;&#45716; &#49373;&#44033;&#51012; &#54624; &#49688;&#46020; &#51080;&#45716;&#45936;, &#49892;&#51228;&#51032; &#44221;&#54744;&#49345;&#51004;&#47196;&#45716; &#44536; &#48152;&#45824;&#45796;. &#53580;&#49828;&#53944; &#53076;&#46300;&#47484; &#51089;&#49457;&#54616;&#47728;
&#53076;&#46377;&#51012; &#51652;&#54665;&#54616;&#47732;, &#48376; &#53076;&#46300;&#47484; &#51089;&#49457;&#54624; &#46412; &#53580;&#49828;&#53944;&#47484; &#50684;&#46160;&#50640; &#46160;&#44256; &#53076;&#46300;&#47484; &#51676;&#44172; &#46108;&#45796;. &#44536; &#44208;&#44284;
&#53580;&#49828;&#53944;&#50640; &#50857;&#51060;&#54620; &#48372;&#45796; &#45800;&#49692;&#54616;&#44256; &#45436;&#47532;&#51201;&#51064; &#53076;&#46300;&#47484; &#51089;&#49457;&#54616;&#44172; &#46104;&#50612;, &#54532;&#47196;&#44536;&#47016;&#51032; &#50976;&#51648;/&#48372;&#49688;&#50640; &#45908;
&#50857;&#51060;&#54620; &#49373;&#49328;&#51201;&#51064; &#53076;&#46300;&#47484; &#45235;&#44172; &#46108;&#45796;. &#50500;&#50872;&#47084; &#53076;&#46300;&#47484; &#44060;&#49440;&#54624; &#46412;&#47560;&#45796; &#53580;&#49828;&#53944; &#53076;&#46300;&#47484; &#49892;&#54665;&#54632;&#51004;&#47196;&#50024;,
&#51060;&#51204;&#50640; &#51089;&#49457;&#54620; &#47784;&#46304; &#53076;&#46300;&#46308;&#44284;&#51032; &#54840;&#54872;&#49457;&#51012; &#48120;&#47532; &#44160;&#51613;&#54616;&#45716; &#44284;&#51221;&#51012; &#47588;&#48264; &#44144;&#52824;&#52824; &#46104;&#48064;&#47196;, &#48260;&#44536;&#47484;
&#48120;&#50672;&#50640; &#48169;&#51648;&#54644; &#51452;&#45716; &#54952;&#44284;&#44620;&#51648; &#44225;&#46308;&#50612;&#51648;&#44172; &#46104;&#50612;, &#44208;&#44284;&#51201;&#51004;&#47196;&#45716; &#54532;&#47196;&#51229;&#53944;&#47484; &#45908; &#51687;&#51008; &#49884;&#44036; &#50504;&#50640;
&#50756;&#47308;&#54624; &#49688; &#51080;&#44172; &#54644; &#51596;&#45796;. &#53076;&#46377;&#54616;&#45716; &#49884;&#44036;&#48372;&#45796; &#46356;&#48260;&#44613;&#54616;&#45716; &#49884;&#44036;&#51060; &#55016;&#50476; &#45908; &#47566;&#51060; &#46304;&#45796;&#45716; &#44163;&#51012; &#51060;&#48120;
&#44221;&#54744;&#54644; &#48376; &#54532;&#47196;&#44536;&#47000;&#47672;&#46972;&#47732; &#50948;&#51032; &#51452;&#51109;&#51060; &#49789;&#44172; &#45225;&#46301;&#46104;&#47532;&#46972; &#48376;&#45796;.</p><p>Clojure&#45716; TDD(Test Driven Development)&#47484; &#51648;&#50896;&#54616;&#45716; &#44592;&#45733;&#51060; &#51060;&#48120; <span class="stt">clojure.test</span> &#54056;&#53412;&#51648;&#50640;
&#45236;&#51109;&#46104;&#50612; &#51080;&#45796;.</p><p><a name="(idx._(gentag._1))"></a>
<a name="(idx._(gentag._2))"></a></p><h4>5.1<tt>&nbsp;</tt><a name="(part._deftest_______is____)"></a>deftest &#47700;&#53356;&#47196; &amp; is &#48120;&#53356;&#47196;</h4><p><pre class="descblock">(deftest name &amp; body)      &lt;macro&gt;   [clojure.test]
  name -- test name&#51012; &#51648;&#51221;&#54620;&#45796;.
  body -- &#49892;&#51228; test &#53076;&#46300;&#44032; &#51089;&#49457;&#46104;&#45716; &#51088;&#47532;.

(is predicate)             &lt;macro&gt;   [clojure.test]
(is predicate message)
  predicate -- &#52280; &#46608;&#45716; &#44144;&#51667;&#51012; &#48152;&#54872;&#54616;&#45716; form.
  message -- predicate&#51060; &#44144;&#51667;&#51012; &#48152;&#54872;&#54624; &#44221;&#50864;, &#52636;&#47141;&#54624; &#47700;&#49884;&#51648;.</pre></p><p>&#45824;&#48512;&#48516;&#51032; &#53580;&#49828;&#53944; &#53076;&#46300;&#45716; <span class="stt">deftest</span> &#47588;&#53356;&#47196;&#50752; <span class="stt">is</span> &#47588;&#53356;&#47196;&#47484; &#51060;&#50857;&#54644; &#51089;&#49457;&#54620;&#45796;.  <span class="stt">is</span>
&#47588;&#53356;&#47196;&#45716;, &#53580;&#49828;&#53944; &#49892;&#54056;&#49884; &#52636;&#47141;&#54624; &#47700;&#49884;&#51648;&#47484;, &#46160; &#48264;&#51704; &#51064;&#49688;&#50640; &#51648;&#51221;&#54624; &#49688;&#46020; &#51080;&#45796;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]))

(deftest add
  (is (= 4 (+ 2 2)))
  (is (= 2 (+ 2 0)) "adding zero doesn't change value"))</pre></p><p><span class="stt">lein test</span> &#47749;&#47161;&#51012; &#45236;&#47532;&#47732;, <span class="stt">test/myproject/test/</span> &#54260;&#45908; &#50500;&#47000;&#51032; &#47784;&#46304; &#53580;&#49828;&#53944; &#54028;&#51068;&#46308;&#51012;
&#51069;&#50612; &#46308;&#50668; &#49892;&#54665;&#54620;&#45796;. &#44033; &#53580;&#49828;&#53944; &#54028;&#51068; &#50504;&#51032; &#47784;&#46304; <span class="stt">deftest</span> &#47928;&#51032; <span class="stt">body</span> &#48512;&#48516;&#51012;
&#49892;&#54665;&#54620; &#54980;, &#44536; &#44208;&#44284;&#47484; &#48372;&#44256;&#54620;&#45796;.</p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
Ran 1 tests containing 2 assertions.
0 failures, 0 errors.</pre></p><p>&#50948;&#50640;&#49436;&#45716; test 1&#44148;, assertion 2&#44148;&#51012; &#52376;&#47532;&#54644; &#49892;&#54056; 0&#44148;, &#50640;&#47084; 0&#44148;&#51060; &#48156;&#49373;&#54664;&#51020;&#51012; &#48372;&#44256;&#54616;&#44256; &#51080;&#45796;.</p><p>&#51060;&#48264;&#50640;&#45716; &#51032;&#46020;&#51201;&#51004;&#47196; &#53580;&#49828;&#53944; &#49892;&#54056;&#47484; &#50976;&#46020;&#54644; &#48372;&#51088;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]))

(deftest add
  (is (= 4 (+ 2 2)))
  (is (= 2 (+ 2 0)) "adding zero doesn't change value")
  (is (= 9 (+ 4 4)))                            ; error here
  (is (= 7 (+ 2 4)) "2 + 4 should return 6"))   ; error here</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
FAIL in (add) (core.clj:8)
expected: (= 9 (+ 4 4))
  actual: (not (= 9 8))
FAIL in (add) (core.clj:9)
2 + 4 should return 6
expected: (= 7 (+ 2 4))
  actual: (not (= 7 6))
Ran 1 tests containing 4 assertions.
2 failures, 0 errors.</pre></p><p><a name="(idx._(gentag._3))"></a></p><h4>5.2<tt>&nbsp;</tt><a name="(part._are____)"></a>are &#47588;&#53356;&#47196;</h4><p><pre class="descblock">(are argv expr &amp; args)     &lt;macro&gt;   [clojure.test]</pre></p><p><span class="stt">clojure.test</span>&#45716; <span class="stt">is</span> &#47588;&#53356;&#47196; &#50808;&#50640;&#46020; <span class="stt">are</span> &#47588;&#53356;&#47196;&#47484; &#51228;&#44277;&#54620;&#45796;. &#51060;&#47492;&#51012; &#53685;&#54644; &#50696;&#49345;&#54624; &#49688;
&#51080;&#44192;&#51648;&#47564;, &#54616;&#45208;&#51032; <span class="stt">are</span> &#47588;&#53356;&#47196;&#45716; &#50668;&#47084; &#44060;&#51032; <span class="stt">is</span> &#47588;&#53356;&#47196;&#47484; &#45824;&#49888;&#54624; &#49688; &#51080;&#45796;.</p><p>&#48169;&#44552; &#51204;&#50640; &#46304; &#50696;&#47484;, <span class="stt">are</span> &#47588;&#53356;&#47196;&#47484; &#49324;&#50857;&#54644; &#51116;&#51089;&#49457;&#54644; &#48372;&#47732; &#45796;&#51020;&#44284; &#44057;&#45796;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]))

(deftest add
  (are [sum x y] (= sum (+ x y))
        4 2 2
        2 2 0
        9 4 4
        7 2 4))</pre></p><p>&#51593;, <span class="stt">sum</span>&#50640; 4, <span class="stt">x</span>&#50640; 2, <span class="stt">y</span>&#50640; 2&#44032; &#44033;&#44033; &#45824;&#51077;&#46108; &#54980;, <span class="stt">(= sum (+ x y))</span>&#44032; &#49688;&#54665;&#46120;&#51012;
&#50508; &#49688; &#51080;&#45796;.</p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
FAIL in (add) (core.clj:6)
expected: (= 9 (+ 4 4))
  actual: (not (= 9 8))
FAIL in (add) (core.clj:6)
expected: (= 7 (+ 2 4))
  actual: (not (= 7 6))
Ran 1 tests containing 3 assertions.
2 failures, 0 errors.</pre></p><p><span class="stt">are</span> &#47588;&#53356;&#47196;&#45716;, &#49892;&#51228;&#47196;&#45716; &#50668;&#47084; &#44060;&#51032; <span class="stt">is</span> &#47588;&#53356;&#47196;&#47196; &#54869;&#51109;&#46108;&#45796;. &#54869;&#51109;&#46108; &#47784;&#49845;&#51012; &#49332;&#54196;&#48372;&#51088;.</p><p><pre class="codeblock">(macroexpand '(are [sum x y] (= sum (+ x y))
                   4 2 2
                   2 2 0
                   9 4 4
                   7 2 4))
; =&gt; (do
;      (clojure.test/is (= 4 (+ 2 2)))
;      (clojure.test/is (= 2 (+ 2 0)))
;      (clojure.test/is (= 9 (+ 4 4)))
;      (clojure.test/is (= 7 (+ 2 4))))</pre></p><p><span class="stt">is</span> &#47588;&#53356;&#47196;&#47196; &#47784;&#46160; &#54869;&#51109;&#46108; &#44163;&#51012; &#51649;&#51217; &#54869;&#51064;&#54624; &#49688; &#51080;&#45796;.</p><p><a name="(idx._(gentag._4))"></a></p><h4>5.3<tt>&nbsp;</tt><a name="(part._testing____)"></a>testing &#47588;&#53356;&#47196;</h4><p><pre class="descblock">(testing string &amp; body)     &lt;macro&gt;   [clojure.test]</pre></p><p><span class="stt">testing</span> &#47588;&#53356;&#47196;&#45716;, &#53580;&#49828;&#53944;&#44032; &#49892;&#54056;&#54624; &#44221;&#50864; &#52636;&#47141;&#54624; &#47700;&#49884;&#51648;&#47484; &#51648;&#51221;&#54616;&#44592; &#50948;&#54620; &#50857;&#46020;&#47196; &#49324;&#50857;&#46108;&#45796;.
<span class="stt">deftest</span> &#47588;&#53356;&#47196; &#50504;&#50640;&#49436; &#49324;&#50857;&#46104;&#50612;&#50556; &#54616;&#47728;, &#51473;&#52393;&#46112; &#49688; &#51080;&#45796;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]))

(deftest arithmetic
  (testing "Addition"
    (testing "with positive integers"
      (is (= 4 (+ 2 2)))
      (is (= 7 (+ 3 4))))
    (testing "with negative integers"
      (is (= -5 (+ -2 -2)))             ; error here
      (is (= -1 (+ 3 -4))) )))</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
FAIL in (arithmetic) (core.clj:11)
Addition with negative integers
expected: (= -5 (+ -2 -2))
  actual: (not (= -5 -4))
Ran 1 tests containing 4 assertions.
1 failures, 0 errors.</pre></p><p><a name="(idx._(gentag._5))"></a></p><h4>5.4<tt>&nbsp;</tt><a name="(part._exception____)"></a>exception &#53580;&#49828;&#53944;</h4><p><pre class="descblock">(thrown? exception-class form)
(thrown? exception-class message form)

  exception-class -- form&#50640;&#49436; &#48156;&#49373;&#51060; &#50696;&#49345;&#46104;&#45716; &#50696;&#50808; &#53364;&#47000;&#49828;&#47749;.
  message -- &#50696;&#50808;&#44032; &#48156;&#49373;&#54624; &#46468;, &#54632;&#44760; &#51204;&#45804;&#46104;&#45716; &#47700;&#49884;&#51648;. &#51221;&#44508;&#49885; &#47928;&#51088;&#50676;&#47196; &#54364;&#49884;.
  form -- &#50696;&#50808;&#47484; &#48156;&#49373;&#54616;&#45716; form

form&#50640;&#49436; &#45912;&#51652; &#50696;&#50808;&#44032;, exception-class&#50752; &#51068;&#52824;&#54616;&#44256;, &#54632;&#44760; &#51204;&#45804;&#46108; &#47700;&#49884;&#51648;&#44032;
message&#50752; &#51068;&#52824;&#54616;&#47732; &#53580;&#49828;&#53944;&#47484; &#53685;&#44284;&#54616;&#44256;, &#44536;&#47111;&#51648; &#50506;&#51004;&#47732; &#53580;&#49828;&#53944; &#49892;&#54056;.</pre></p><p><span class="stt">is</span> &#47588;&#53356;&#47196; &#45236;&#50640;&#49436;, &#50696;&#50808;&#44032; &#49892;&#51228;&#47196; &#48156;&#49373;&#54616;&#45716; &#51648;&#47484; &#53580;&#49828;&#53944;&#54624; &#49688; &#51080;&#45796;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]) )

(deftest divide-by-zero
  ;; ArithmeticException &#50696;&#50808;&#47484; &#48156;&#49373;&#54616;&#48064;&#47196;, &#53580;&#49828;&#53944; &#53685;&#44284;
  (is (thrown? ArithmeticException (/ 1 0)))

  ;; ArithmeticException &#50696;&#50808;&#47484; &#48156;&#49373;&#54616;&#51648; &#50506;&#51004;&#48064;&#47196;, &#53580;&#49828;&#53944; &#49892;&#54056;
  (is (thrown? ArithmeticException (/ 1 2)))

  ;; ArithmeticException &#50696;&#50808;&#47484; &#48156;&#49373;&#54616;&#44256;, &#51060;&#46412; &#51204;&#45804;&#46104;&#45716; &#47700;&#49884;&#51648;&#44032; &#51068;&#52824;&#54616;&#48064;&#47196;
  ;; &#53580;&#49828;&#53944; &#53685;&#44284;
  (is (thrown-with-msg? ArithmeticException #"Divide by zero"
                        (/ 2 0) ))

  ;; ArithmeticException &#50696;&#50808;&#44032; &#48156;&#49373;&#54616;&#51648;&#47564;, &#51060;&#46412; &#51204;&#45804;&#46104;&#45716; &#47700;&#49884;&#51648;&#44032; &#51068;&#52824; &#50504;&#54616;&#48064;&#47196;
  ;; &#53580;&#49828;&#53944; &#49892;&#54056;
  (is (thrown-with-msg? ArithmeticException #"Incorrect message"
                        (/ 2 0) ))

  ;; ArithmeticException &#50696;&#50808;&#47484; &#48156;&#49373;&#54616;&#51648; &#50506;&#51004;&#48064;&#47196;, &#53580;&#49828;&#53944; &#49892;&#54056;
  (is (thrown-with-msg? ArithmeticException #"Divide by zero"
                        (/ 1 3) )))</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
FAIL in (divide-by-zero) (core.clj:10)
expected: (thrown? ArithmeticException (/ 1 2))
  actual: nil
FAIL in (divide-by-zero) (core.clj:19)
expected: (thrown-with-msg? ArithmeticException #"Incorrect message" (/ 2 0))
  actual: #&lt;ArithmeticException java.lang.ArithmeticException: Divide by zero&gt;
FAIL in (divide-by-zero) (core.clj:23)
expected: (thrown-with-msg? ArithmeticException #"Divide by zero" (/ 1 3))
  actual: nil
Ran 1 tests containing 5 assertions.
3 failures, 0 errors.</pre></p><p><a name="(idx._(gentag._6))"></a></p><h4>5.5<tt>&nbsp;</tt><a name="(part._fixture_____)"></a>fixture &#49324;&#50857;&#54616;&#44592;</h4><p>&#53580;&#49828;&#53944; &#53076;&#46300;&#47484; &#51089;&#49457;&#54616;&#45796; &#48372;&#47732;, &#53580;&#49828;&#53944; &#49892;&#54665; &#51649;&#51204; &#46608;&#45716; &#51649;&#54980;&#50640; &#49892;&#54665;&#46104;&#50612;&#50556; &#54616;&#45716; &#53076;&#46300;&#44032;
&#51080;&#51012; &#49688; &#51080;&#45796;. &#51060;&#46412; &#54596;&#50836;&#54620; &#44163;&#51060; &#48148;&#47196; fixture&#51060;&#45796;.</p><p><pre class="descblock">(use-fixtures :once fixture-1 fixture-2 ...)     [clojure.test]
(use-fixtures :each fixture-1 fixture-2 ...)

:once -- &#53580;&#49828;&#53944; &#54028;&#51068; &#51204;&#52404;&#50640; &#44152;&#52432;, 'fixture-1 fixture-2 ...' &#48512;&#48516;&#51012; &#51648;&#51221;&#46108;
         &#49692;&#49436;&#45824;&#47196; &#46385; &#54620;&#48264;&#47564; &#49688;&#54665;&#54620;&#45796;.
:each -- deftest &#47928;&#51012; &#49892;&#54665;&#54624; &#46468;&#47560;&#45796;, 'fixture-1 fixture-2 ...' &#48512;&#48516;&#51012; &#51648;&#51221;&#46108;
         &#49692;&#49436;&#45824;&#47196; &#47700;&#48264; &#49688;&#54665;&#54620;&#45796;.</pre></p><p><span class="stt">:once</span> &#50741;&#49496;&#51032; &#44221;&#50864;&#47484; &#47676;&#51200; &#49332;&#54196;&#48372;&#51088;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]))

(defn fixture-1 [f]
  (println ":once fixutre-1 started.")
  ; other codes here ...
  (f)
  (println ":once fixutre-1 ended.")
  ; another codes here ...
)

(defn fixture-2 [f]
  (println ":once fixture-2 started.")
  ; other codes here ...
  (f)
  (println ":once fixture-2 ended.")
  ; another codes here ...
)

(use-fixtures :once fixture-1 fixture-2)

(deftest add
  (is (= 3 (+ 1 2)))
  (is (= 8 (+ 3 5))))

(deftest subtract
  (is (= 5 (- 10 5)))
  (is (= 2 (- 7  5))))</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
:once fixutre-1 started.
:once fixture-2 started.
:once fixture-2 ended.
:once fixutre-1 ended.
Ran 2 tests containing 4 assertions.
0 failures, 0 errors.</pre></p><p>&#53580;&#49828;&#53944; &#51333;&#47308;&#49884;, &#51648;&#51221;&#54620; fixture &#54632;&#49688;&#51032; &#49692;&#49436;&#44032; &#50669;&#49692;&#51004;&#47196; &#49892;&#54665;&#46104;&#45716; &#44163;&#50640; &#51452;&#51032;&#54616;&#46972;.</p><p>&#51060;&#48264;&#50640;&#45716; <span class="stt">:each</span> &#50741;&#49496;&#51032; &#44221;&#50864;&#47484; &#49332;&#54196;&#48372;&#51088;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]))

(defn fixture-1 [f]
  (println ":each fixutre-1 started.")
  ; other codes here ...
  (f)
  (println ":each fixutre-1 ended.")
  ; another codes here ...
)

(defn fixture-2 [f]
  (println ":each fixture-2 started.")
  ; other codes here ...
  (f)
  (println ":each fixture-2 ended.")
  ; another codes here ...
)

(use-fixtures :each fixture-1 fixture-2)

(deftest add
  (is (= 3 (+ 1 2)))
  (is (= 8 (+ 3 5))))

(deftest subtract
  (is (= 5 (- 10 5)))
  (is (= 2 (- 7  5))))</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
:each fixutre-1 started.
:each fixture-2 started.
:each fixture-2 ended.
:each fixutre-1 ended.
:each fixutre-1 started.
:each fixture-2 started.
:each fixture-2 ended.
:each fixutre-1 ended.
Ran 2 tests containing 4 assertions.
0 failures, 0 errors.</pre></p><p><span class="stt">deftest</span> &#47928;&#51060; &#49892;&#54665;&#46112; &#46412;&#47560;&#45796;, <span class="stt">:each</span> &#50741;&#49496; &#46244;&#50640; &#51648;&#51221;&#54620; fixture&#46308;&#51060; &#51648;&#51221;&#46108; &#49692;&#49436;&#45824;&#47196;
&#49892;&#54665;&#46104;&#45716; &#44163;&#51012; &#54869;&#51064;&#54624; &#49688; &#51080;&#45796;.</p><h4>5.6<tt>&nbsp;</tt><a name="(part._deftest-____)"></a>deftest- &#47700;&#53356;&#47196;</h4><p><span class="stt">lein test</span> &#47749;&#47161;&#51060; &#49892;&#54665;&#46112; &#46412;, &#44033; &#53580;&#49828;&#53944; &#53076;&#46300; &#54028;&#51068; &#45236;&#51032; <span class="stt">deftest</span> &#47928;&#51060; &#49892;&#54665;&#46104;&#45716;&#45936;,
<span class="stt">deftest</span> &#47928;&#51060; &#53076;&#46300; &#45236;&#50640; &#45208;&#50676;&#46108; &#49692;&#49436; &#44536;&#45824;&#47196; &#49892;&#54665;&#46104;&#51648;&#45716; &#50506;&#45716;&#45796;. &#44536;&#47088;&#45936; &#44536; &#49692;&#49436;&#47484; &#51648;&#51221;&#54624;
&#54596;&#50836;&#44032; &#51080;&#51012; &#46412;&#45716; &#50612;&#46523;&#44172; &#54644;&#50556; &#54624;&#44620;?</p><p>&#51068;&#45800;, &#45796;&#51020;&#44284; &#44057;&#51060; &#49884;&#46020;&#54644; &#48380; &#49688; &#51080;&#45796;.</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]) )

(deftest add
  (is (= 3 (+ 1 2)))
  (is (= 8 (+ 3 5))) )

(deftest subtract
  (is (= 5 (- 10 5)))
  (is (= 2 (- 7 5))) )

(deftest arithmetic
  (add)
  (subtract) )</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
Ran 5 tests containing 8 assertions.
0 failures, 0 errors.</pre></p><p><span class="stt">deftest</span> &#47928; &#45236;&#48512;&#50640; &#45208;&#50676;&#46108; &#53580;&#49828;&#53944; &#53076;&#46300;&#45716;, &#44536; &#49892;&#54665; &#49692;&#49436;&#44032; &#48372;&#51109;&#46108; &#44163;&#51012; &#51060;&#50857;&#54644;&#49436; &#51089;&#49457;&#54620;
&#53076;&#46300;&#51060;&#51648;&#47564;, &#47928;&#51228;&#45716; <span class="stt">add</span> &#53580;&#49828;&#53944;&#47928;&#44284; <span class="stt">subtract</span> &#53580;&#49828;&#53944;&#47928;&#51060; &#51473;&#48373;&#46104;&#50612; &#49892;&#54665;&#46108;&#45796;&#45716; &#45936;&#50640;
&#51080;&#45796;. &#51060; &#47928;&#51228;&#47484; &#54644;&#44208;&#54616;&#44592; &#50948;&#54644;&#49436;&#45716; <span class="stt">dettest-</span> &#47928;&#51012; &#51060;&#50857;&#54644;&#50556; &#54620;&#45796;. <span class="stt">deftest-</span> &#47928;&#51008;
<span class="stt">deftest</span> &#47928;&#44284; &#45796;&#47480; &#47732;&#50640;&#49436;&#45716; &#46041;&#51068;&#54616;&#51648;&#47564;, public &#54632;&#49688;&#44032; &#50500;&#45772;, private &#54632;&#49688;&#47484; &#49373;&#49457;&#54644;
&#51456;&#45796;&#45716; &#52264;&#51060;&#51216;&#51060; &#51080;&#45796;(&#51060;&#44163;&#51008; <span class="stt">defn</span> &#47928;&#44284; <span class="stt">defn-</span> &#47928; &#49324;&#51060;&#51032; &#52264;&#51060;&#51216;&#44284; &#46041;&#51068;&#54616;&#45796;.).</p><p><pre class="codeblock">;; file: C:/work/myproject/test/myproject/test/core.clj
(ns myproject.test.core
  (:use [clojure.test]) )

(deftest- add
  (is (= 3 (+ 1 2)))
  (is (= 8 (+ 3 5))) )

(deftest- subtract
  (is (= 5 (- 10 5)))
  (is (= 2 (- 7 5))) )

(deftest arithmetic
  (add)
  (subtract) )</pre></p><p><pre class="shellblock">c:\work\myproject&gt; lein test
Testing myproject.test.core
Ran 5 tests containing 8 assertions.  &lt;&lt;-- ??
0 failures, 0 errors.</pre></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="functional-programming.html" title="backward to &quot;4 Functional Programming&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Clojure Memo&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="core-async.html" title="forward to &quot;6 core.async&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>